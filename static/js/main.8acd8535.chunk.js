(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{44:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(7),o=n.n(r),s=(n(37),n(14)),i=n(15),l=n(17),u=n(16),d=n(5),j=n(2),b=n(8),f=(n(44),n(10)),h=n(9),O=(n(21),n(22),n(11)),m=n.n(O),p=n(3);m.a.defaults.baseURL="https://61fb905c87801d0017a2c5b6.mockapi.io";var x=Object(p.c)("contacts/getContact",(function(e,t){var n=t.rejectWithValue;return m.a.get("/contacts").then((function(e){return e.data})).catch((function(e){var t=e.message;return n(t)}))})),v=Object(p.c)("contacts/addContact",(function(e,t){var n=t.rejectWithValue;return m.a.post("/contacts",e).then((function(e){var t=e.data;return Object(h.info)({text:"Contact successfully added",delay:700}),t})).catch((function(e){var t=e.message;return n(t)}))})),g=Object(p.c)("contacts/deleteContact",(function(e,t){var n=t.rejectWithValue;return m.a.delete("/contacts/".concat(e)).then((function(e){var t=e.data;return Object(h.info)({text:"Contact successfully deleted",delay:700}),t.id})).catch((function(e){var t=e.message;return n(t)}))})),y=n(1),C={name:"",number:""},_=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state=Object(b.a)({},C),e.nameId=Object(f.a)(),e.numberId=Object(f.a)(),e.reset=function(){return e.setState(Object(b.a)({},C))},e.onInputHandler=function(t){var n=t.target,c=n.name,a=n.value;e.setState(Object(j.a)({},c,a))},e.addContact=function(t){e.props.contacts.length>=100?Object(h.info)({text:"Too many contacts now.",delay:700}):e.props.addContact(t)},e.onSubmitHandler=function(t){if(t.preventDefault(),e.props.contacts.find((function(t){return t.name===e.state.name})))Object(h.info)({text:"".concat(e.state.name," is already in contacts."),delay:700});else{var n={name:e.state.name,number:e.state.number,id:Object(f.a)()};e.addContact(n),e.reset()}},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("form",{className:"form",onSubmit:this.onSubmitHandler,children:[Object(y.jsxs)("label",{className:"form__title",htmlFor:this.nameId,children:[Object(y.jsx)("h3",{className:"phonebook__headline",children:"Name"}),Object(y.jsx)("input",{className:"form__input",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:this.nameId,value:this.state.name,onChange:this.onInputHandler})]}),Object(y.jsxs)("label",{className:"form__title",htmlFor:this.numberId,children:[Object(y.jsx)("h3",{className:"phonebook__headline",children:"Number"}),Object(y.jsx)("input",{className:"form__input",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,id:this.numberId,value:this.state.number,onChange:this.onInputHandler})]}),Object(y.jsx)("button",{className:"form__submit",type:"submit",children:"Add contact"})]})}}]),n}(c.Component),N=Object(d.b)((function(e){return{contacts:e.contacts.items}}),(function(e){return{addContact:function(t){return e(v(t))}}}))(_);n(65);function w(e){var t=e.name,n=e.number,c=e.deleteContact;return Object(y.jsxs)("li",{className:"list__item",children:[Object(y.jsxs)("p",{className:"list__text",children:[Object(y.jsxs)("span",{children:[t," :"]})," ",n]}),Object(y.jsx)("button",{className:"list__btn",onClick:c,type:"button",children:"Delete"})]})}var k,L,I,A=n(6),F=n(20),S=Object(p.d)([],(k={},Object(j.a)(k,v.fulfilled,(function(e,t){return[t.payload].concat(Object(F.a)(e))})),Object(j.a)(k,g.fulfilled,(function(e,t){var n=t.payload;return Object(F.a)(e.filter((function(e){return e.id!==n})))})),Object(j.a)(k,x.fulfilled,(function(e,t){return t.payload})),k)),H=Object(p.d)(!1,(L={},Object(j.a)(L,v.pending,(function(){return!0})),Object(j.a)(L,v.rejected,(function(){return!1})),Object(j.a)(L,v.fulfilled,(function(){return!1})),Object(j.a)(L,g.pending,(function(){return!0})),Object(j.a)(L,g.rejected,(function(){return!1})),Object(j.a)(L,g.fulfilled,(function(){return!1})),Object(j.a)(L,x.pending,(function(){return!0})),Object(j.a)(L,x.rejected,(function(){return!1})),Object(j.a)(L,x.fulfilled,(function(){return!1})),L)),z=Object(p.d)("",(I={},Object(j.a)(I,v.pending,(function(){return""})),Object(j.a)(I,g.pending,(function(){return""})),Object(j.a)(I,x.pending,(function(){return""})),Object(j.a)(I,v.rejected,(function(e,t){return"Oops, we can't add contact. "+t.payload})),Object(j.a)(I,g.rejected,(function(e,t){return"Oops, we can't delete contact. "+t.payload})),Object(j.a)(I,x.rejected,(function(e,t){return"Oops, we can't load contacts. "+t.payload})),I)),q=Object(p.b)("contacts/filter"),J=Object(p.d)("",Object(j.a)({},q.type,(function(e,t){return t.payload}))),M=Object(A.b)({items:S,filter:J,loading:H,error:z}),P=function(e,t){return t.filter((function(t){return t.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())}))};var V=Object(d.b)((function(e){var t=e.contacts;return{contacts:P(t.filter,t.items)}}),(function(e){return{deleteContact:function(t){return e(g(t))},getContactList:function(){return e(x())}}}))((function(e){var t=e.contacts,n=e.deleteContact,a=e.getContactList;return Object(c.useEffect)((function(){return a()}),[a]),Object(y.jsx)("ul",{className:"list",children:t.map((function(e){return Object(y.jsx)(w,{deleteContact:function(){return n(e.id)},name:e.name,number:e.number},e.id)}))})})),W=(n(66),Object(f.a)());var Z=Object(d.b)((function(e){return{value:e.contacts.filter}}),(function(e){return{onChange:function(t){var n=t.target;return e(q(n.value))}}}))((function(e){var t=e.onChange,n=e.value;return Object(y.jsxs)("div",{className:"filter",children:[Object(y.jsx)("h3",{className:"phonebook__headline",children:"Find contact by name"}),Object(y.jsx)("label",{className:"filter__title",htmlFor:W,children:Object(y.jsx)("input",{value:n,onChange:t,className:"filter__input",type:"text",name:"filter",id:W})})]})}));n(67);function B(e){var t=e.first,n=e.second,c=e.changeColor;return Object(y.jsxs)("div",{className:"counter-wrapper ".concat(t>=n&&c&&"counter-wrapper--overflowed"),children:[Object(y.jsx)("span",{children:t}),"/",Object(y.jsx)("span",{children:n})]})}var D=Object(d.b)((function(e){var t=e.contacts;return{filter:t.filter,filteredContacts:P(t.filter,t.items),contactsLength:t.items.length}}),null)((function(e){var t=e.filter,n=e.filteredContacts,c=e.contactsLength;return t&&Object(y.jsxs)("div",{className:"message__headline-wrapper",children:[Object(y.jsx)("h3",{className:"message__headline",children:0===n.length?"Oops, no contacts found":"Filtered results:"}),t&&Object(y.jsx)(B,{first:n.length,second:c})]})})),E=(n(68),document.querySelector("#root-modal")),T=function(e){return Object(r.createPortal)(Object(y.jsx)("div",{className:"Overlay",children:Object(y.jsx)("div",{className:"Modal",children:e.children})}),E)},R=n(32),U=(n(69),n(70),function(){return Object(y.jsx)("div",{className:"loader",children:Object(y.jsx)(R.a,{height:"100",width:"100",color:"#4778ff",arialLabel:"Loading..."})})}),$=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(T,{children:Object(y.jsx)(U,{})})})},G=(n(71),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.loading,c=e.contactsLength;return Object(y.jsxs)(y.Fragment,{children:[n&&Object(y.jsx)($,{}),t&&Object(y.jsx)("h2",{className:"error",children:t}),Object(y.jsxs)("div",{className:"phonebook__wrapper",children:[Object(y.jsxs)("div",{className:"form-wrapper",children:[Object(y.jsx)("h1",{className:"headline",children:"Phonebook"}),Object(y.jsx)("h2",{children:"Add new contact"}),Object(y.jsx)(N,{})]}),Object(y.jsxs)("div",{className:"list-wrapper",children:[Object(y.jsxs)("div",{className:"headline-wrapper",children:[Object(y.jsx)("h2",{children:"Contacts"}),Object(y.jsx)(B,{changeColor:!0,first:c,second:100})]}),Object(y.jsx)(Z,{}),Object(y.jsx)(D,{}),Object(y.jsx)(V,{})]})]})]})}}]),n}(c.Component)),K=Object(d.b)((function(e){var t=e.contacts;return{loading:t.loading,error:t.error,contactsLength:t.items.length}}),null)(G),Q=Object(A.b)({contacts:M}),X=Object(p.a)({reducer:Q,devTools:!1});o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(d.a,{store:X,children:Object(y.jsx)(K,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.8acd8535.chunk.js.map